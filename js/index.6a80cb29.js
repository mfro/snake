(function(e){function t(t){for(var r,u,o=t[0],c=t[1],l=t[2],d=0,s=[];d<o.length;d++)u=o[d],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&s.push(i[u][0]),i[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(s.length)s.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},i={index:0},a=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var f=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1df7":function(e,t,n){"use strict";n("a21c")},"7a80":function(e,t,n){},"7ffe":function(e,t,n){"use strict";n("7a80")},a21c:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i=n("5a0f"),a=Object(r["u"])("data-v-58b617f1");Object(r["n"])("data-v-58b617f1");var u={ref:"canvas"};Object(r["m"])();var o=a((function(e,t,n,i,o,c){var l=Object(r["p"])("v-text"),f=Object(r["p"])("v-flex"),d=Object(r["p"])("v-app");return Object(r["l"])(),Object(r["f"])(d,{"align-center":""},{default:a((function(){return[Object(r["i"])(f,{column:""},{default:a((function(){return[Object(r["i"])(f,{"justify-center":"",class:"score my-3"},{default:a((function(){return[Object(r["i"])(l,{title:"",style:{"font-size":"24px"}},{default:a((function(){return[Object(r["h"])(Object(r["s"])(i.score),1)]})),_:1})]})),_:1}),Object(r["i"])("canvas",u,null,512)]})),_:1})]})),_:1})})),c=(n("a623"),n("fb6a"),n("b85c")),l=(n("4ec9"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),37),f=38,d=40,s=39,v=82,p=new Set,y=new Map;function h(e,t){var n=y.get(e);n||y.set(e,n=[]),n.push(t)}function b(e,t){if(!e)throw new Error(t)}window.addEventListener("keydown",(function(e){if(!p.has(e.keyCode)){p.add(e.keyCode);var t=y.get(e.keyCode);if(t){var n,r=Object(c["a"])(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i()}}catch(a){r.e(a)}finally{r.f()}}}})),window.addEventListener("keyup",(function(e){p.delete(e.keyCode)}));var w=n("d4ec"),_=n("bee2"),g=function(){function e(t,n){Object(w["a"])(this,e),this.x=t,this.y=n}return Object(_["a"])(e,[{key:"len",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"dir",get:function(){return Math.atan2(this.y,this.x)}}],[{key:"norm",value:function(t){return e.polar(1,t.dir)}},{key:"scale",value:function(t,n){return new e(t.x*n,t.y*n)}},{key:"add",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"eq",value:function(e,t){return e.x==t.x&&e.y==t.y}},{key:"delta",value:function(t,n){var r=e.dot(t,n),i=Math.acos(r/t.len/n.len);return t.y*n.x>t.x*n.y?-i:i}},{key:"polar",value:function(t,n){return new e(Math.cos(n)*t,Math.sin(n)*t)}}]),e}();g.zero=new g(0,0);var O={id:-1,value:new g(0,-1)},x={id:1,value:new g(0,1)},j={id:-2,value:new g(-1,0)},k={id:2,value:new g(1,0)};function m(e,t){var n;do{var r=Math.floor(Math.random()*e.field_size.x),i=Math.floor(Math.random()*e.field_size.y);n=new g(r,i)}while(!t.tail.every((function(e){return!g.eq(e,n)})));return n}function q(e){return{tail:e.initial_tail.slice(),facing:e.initial_facing,input_queue:[],food:null,step_delay:e.step_delay}}function M(e,t){var n=10,r={field_size:new g(50,40),step_delay:1,initial_tail:[new g(0,4),new g(1,4),new g(2,4),new g(3,4),new g(4,4)],initial_facing:k};e.width=r.field_size.x*n-1,e.height=r.field_size.y*n-1,e.style.width="".concat(e.width,"px"),e.style.height="".concat(e.height,"px");var i=e.getContext("2d");b(null!=i,"no context");var a=q(r);a.step_delay=200,a.food=m(r,a);var u=!1;function o(){var e=a.facing;while(a.input_queue.length>0){var n=a.input_queue.shift();if(n!=a.facing&&n.id!=-a.facing.id){e=n;break}}a.facing=e;var i=g.add(a.tail[a.tail.length-1],a.facing.value);a.food&&g.eq(i,a.food)?(a.food=m(r,a),t.value+=1):a.tail.shift();var u=i.x<0||i.x>=r.field_size.x||i.y<0||i.y>=r.field_size.y||!a.tail.every((function(e){return!g.eq(e,i)}));return!!u||(a.tail.push(i),!1)}function p(e){i.fillStyle="black",i.fillRect(e.x*n,e.y*n,n-1,n-1)}h(f,(function(){a.input_queue.push(O),console.log("UP")})),h(d,(function(){a.input_queue.push(x),console.log("DOWN")})),h(l,(function(){a.input_queue.push(j),console.log("LEFT")})),h(s,(function(){a.input_queue.push(k),console.log("RIGHT")})),h(v,(function(){u=!1,a=q(r),a.step_delay=200,a.food=m(r,a),t.value=0}));var y=0;function w(t){var n=y?t-y:0;y=t,u||(a.step_delay>n?a.step_delay-=n:(a.step_delay+=1e3/30,u=o())),i.clearRect(0,0,e.width,e.height);var r,l=Object(c["a"])(a.tail);try{for(l.s();!(r=l.n()).done;){var f=r.value;p(f)}}catch(d){l.e(d)}finally{l.f()}a.food&&p(a.food),requestAnimationFrame(w)}requestAnimationFrame(w)}var z={name:"snake",setup:function(){var e=Object(r["r"])(0),t=Object(r["r"])();return Object(r["k"])((function(){M(t.value,e)})),{canvas:t,score:e}}};n("1df7"),n("7ffe");z.render=o,z.__scopeId="data-v-58b617f1";var P=z;Object(r["e"])(P).use(i["a"]).mount("#app")}});
//# sourceMappingURL=index.6a80cb29.js.map